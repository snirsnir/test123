<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>הדפסת תוויות מוזיאון הרפואה</title>
    
    <!-- טעינת פונט Noto Sans Hebrew מ-Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Hebrew:wght@100..900&display=swap" rel="stylesheet">
    
    <style>
        .noto-sans-hebrew {
            font-family: "Noto Sans Hebrew", sans-serif;
            font-optical-sizing: auto;
            font-style: normal;
            font-variation-settings: "wdth" 100;
        }
        
        @page {
            margin: 10mm;
        }
        
        .page-a4 {
            size: A4;
        }
        
        .page-a3 {
            size: A3;
        }
        
        body {
            font-family: "Noto Sans Hebrew", sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f5f5f5;
            direction: rtl;
        }
        
        .container {
            margin: 0 auto;
            background: white;
            padding: 10mm;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }
        
        .container.a4 {
            max-width: 210mm;
        }
        
        .container.a3 {
            max-width: 297mm;
        }
        
        .header {
            text-align: center;
            margin-bottom: 20px;
            border-bottom: 2px solid #333;
            padding-bottom: 10px;
        }
        
        .header h1 {
            color: #2c3e50;
            font-size: 24px;
            margin: 0;
            font-weight: 700;
        }
        
        .controls {
            background-color: #ecf0f1;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            text-align: center;
        }
        
        .page-size-selector {
            margin-bottom: 15px;
        }
        
        .page-size-selector label {
            margin: 0 15px;
            font-weight: 600;
            cursor: pointer;
        }
        
        .page-size-selector input[type="radio"] {
            margin-left: 8px;
            transform: scale(1.2);
        }
        
.label-item {
    border: 2px dashed #ccc;
    margin: 15mm 0;
    padding: 8mm;
    background-color: #fdfdfd;
    page-break-inside: avoid;
    position: relative;
    text-align: center; /* מרכוז תוכן */
}
        
        .label-controls {
            position: absolute;
            top: 5px;
            left: 5px;
            display: flex;
            gap: 5px;
        }
        
        .font-control-btn {
            background-color: #3498db;
            color: white;
            border: none;
            border-radius: 50%;
            width: 25px;
            height: 25px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background-color 0.2s;
        }
        
        .font-control-btn:hover {
            background-color: #2980b9;
        }
        
        .font-control-btn.minus {
            background-color: #e74c3c;
        }
        
        .font-control-btn.minus:hover {
            background-color: #c0392b;
        }
        
.label-title {
    background-color: #3498db;
    color: white;
    padding: 6px 12px;
    border-radius: 5px;
    font-size: 14px;
    font-weight: 600;
    display: inline-block; /* כדי שהמרכוז יעבוד */
    margin-bottom: 12px;
    margin-top: 30px;
}

        
        .label-info {
            font-size: 11px;
            color: #7f8c8d;
            margin-bottom: 8px;
        }
        
.label-text {
    font-size: 11pt;
    line-height: 1.5;
    font-weight: 500;
    color: #2c3e50;
    background: white;
    padding: 0;
    white-space: pre-wrap;
    word-wrap: break-word;
    transition: font-size 0.2s ease;
    text-align: center; /* מרכוז הטקסט */
}
        
.arabic {
    direction: rtl;
    text-align: center; /* מרכוז גם לערבית */
}
        
        .label-logo {
    position: absolute;
    top: 10px;
    right: 10px;
    max-width: 80px;
    max-height: 40px;
    width: auto;
    height: auto;
    z-index: 10;
}

.logo-control-btn {
    background-color: #9b59b6;
    color: white;
    border: none;
    border-radius: 3px;
    width: 60px;
    height: 25px;
    cursor: pointer;
    font-size: 11px;
    font-weight: bold;
    margin-left: 5px;
    transition: background-color 0.2s;
}

.logo-control-btn:hover {
    background-color: #8e44ad;
}

.logo-control-btn.remove {
    background-color: #e67e22;
    width: 40px;
}

.logo-control-btn.remove:hover {
    background-color: #d35400;
}
@media print {
    body {
        background-color: white;
    }
    
    .container {
        box-shadow: none;
        max-width: none;
        padding: 0;
    }
    
    .header {
        border-bottom: 1px solid #333;
    }
    
    .label-item {
        border: 1px solid #333;
        background-color: white;
        margin: 10mm 0;
        text-align: center; /* מרכוז תוכן המדבקה */
    }
    
    .no-print {
        display: none !important;
    }
    
    .label-controls {
        display: none !important;
    }
    
    /* הסתרת המידע הקטן בהדפסה */
    .label-info {
        display: none !important;
    }
    
    .label-logo {
        display: block !important;
    }
    
    /* מרכוז הכותרת והטקסט בהדפסה */
    .label-title {
        text-align: center;
        display: block;
        margin: 0 auto 12px auto;
    }
    
    .label-text {
        text-align: center;
    }
    
    .label-text.arabic {
        text-align: center;
        direction: rtl;
    }
}
        
        .print-button {
            background-color: #27ae60;
            color: white;
            padding: 12px 24px;
            border: none;
            border-radius: 5px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            margin: 10px 5px;
        }
        
        .print-button:hover {
            background-color: #219a52;
        }
        
        .stats {
            background-color: #ecf0f1;
            padding: 10px;
            border-radius: 5px;
            margin-bottom: 20px;
            text-align: center;
            color: #34495e;
            font-weight: 500;
        }
    </style>
</head>
<body class="noto-sans-hebrew">
    <div class="container a4" id="mainContainer">
        <div class="header">
            <h1>תוויות מוזיאון הרפואה - טכנודע חדרה</h1>
        </div>
        
        <div class="controls no-print">
            <div class="page-size-selector">
                <label>
                    <input type="radio" name="pageSize" value="a4" checked onchange="changePageSize(this.value)">
                    A4
                </label>
                <label>
                    <input type="radio" name="pageSize" value="a3" onchange="changePageSize(this.value)">
                    A3
                </label>
            </div>
            
            <div class="stats">
                <strong>סה"כ תוויות להדפסה: <span id="totalLabels">0</span></strong>
            </div>
            
            <button class="print-button" onclick="window.print()">🖨️ הדפסה</button>
        </div>
        
        <div id="labelsContainer">
            <!-- התוויות יטענו כאן -->
        </div>
        
        <button class="print-button no-print" onclick="window.print()">🖨️ הדפסה</button>
    </div>

    <script>
        // נתוני התוויות מה-JSON המעודכן
        const labelsData = [
            {
                "שם המוצג": "נפחי נשימה",
                "טקסט למדבקה": "הוראות הפעלה:\nנשפו לפיה את מלוא האוויר שבריאותיכם וצפו בתוצאה.",
                "מידות המדבקה בסנטימטרים": "17x22",
                "גודל פונט": "3X3 mm",
                "תיאור המדבקות": "מדבקות עברית",
                "עותקים": 2
            },
            {
                "שם המוצג": "נפחי נשימה",
                "טקסט למדבקה": "ما العمل؟\n أخرج كل الهواء في رئتيك الى الفوهة وانظر إلى النتيجة.",
                "מידות המדבקה בסנטימטרים": "17x22",
                "גודל פונט": "3X3 mm",
                "תיאור המדבקות": "מדבקות ערבית",
                "עותקים": 2
            },
            {
                "שם המוצג": "מנגנון הנשימה",
                "טקסט למדבקה": "מנגנון הנשימה",
                "מידות המדבקה בסנטימטרים": "5x44",
                "גודל פונט": "7x7 cm",
                "תיאור המדבקות": "מנגנון הנשימה כותרת גדולה",
                "עותקים": 3
            },
            {
                "שם המוצג": "מנגנון הנשימה",
                "טקסט למדבקה": "הוראות הפעלה:\nהניעו את הידית וצפו במתרחש.",
                "מידות המדבקה בסנטימטרים": "10.5x22",
                "גודל פונט": "3X3 mm",
                "תיאור המדבקות": "מנגנון הנשימה עברית",
                "עותקים": 3
            },
            {
                "שם המוצג": "מנגנון הנשימה",
                "טקסט למדבקה": "ما العمل؟\n حرِّك المقبض وراقب ماذا يحدث .",
                "מידות המדבקה בסנטימטרים": "10.5x22",
                "גודל פונט": "3X3 mm",
                "תיאור המדבקות": "מנגנון הנשימה ערבית",
                "עותקים": 3
            },
            {
                "שם המוצג": "מדבקות גנריות למוזיאון ולוגו טכנודע",
                "טקסט למדבקה": "טכנודע [והלוגו החדש] המוזיאון הישראלי לרפואה ומדע, חדרה",
                "מידות המדבקה בסנטימטרים": "4.5x12.5",
                "גודל פונט": "",
                "תיאור המדבקות": "טכנודע והלוגו החדש, המוזיאון הישראלי לרפואה ומדע, חדרה X 20 יח",
                "עותקים": 20
            },
            {
                "שם המוצג": "חוש השמיעה",
                "טקסט למדבקה": "חוש השמיעה- דברו אל המיקרופון, הרימו את ראשכם ושימו לב לאונה הרקתית, האחראית על פיענוח הקולות והבנתם.\n\nحاسة السمع - تحدث في الميكروفون، ارفع رأسك وانتبه إلى الفص الصدغي، المسؤول عن فك تشفير الأصوات وفهمها.",
                "מידות המדבקה בסנטימטרים": "5x44",
                "גודל פונט": "3X3 mm",
                "תיאור המדבקות": "מדבקות ההוראות",
                "עותקים": 3
            },
            {
                "שם המוצג": "חוש הראיה",
                "טקסט למדבקה": "חוש הראיה- סובבו את הגלגל והתבוננו מבעד לחריץ על הכדור. הרימו את ראשכם ושימו לב לאונה העורפית, האחראית על חוש הראיה.\n\nحاسة البصر - أدر العجلة وانظر من خلال الفتحة الى الكرة. ارفع رأسك وانتبه إلى الفص القذالي، المسؤول عن حاسة البصر.",
                "מידות המדבקה בסנטימטרים": "5x44",
                "גודל פונט": "3X3 mm",
                "תיאור המדבקות": "מדבקות ההוראות",
                "עותקים": 3
            },
            {
                "שם המוצג": "מחשבה גבוהה ותכנון",
                "טקסט למדבקה": "נסו להפעיל את כל הנורות. הרימו את ראשכם ושימו לב לאונה המצחית האחראית על התכנון והמחשבה הגבוהה.\n\nحاول تشغيل جميع المصابيح. ارفع رأسك وانتبه للفص الجبهي، المسؤول عن التخطيط والتفكير العالي .",
                "מידות המדבקה בסנטימטרים": "5x44",
                "גודל פונט": "3X3 mm",
                "תיאור המדבקות": "מדבקות ההוראות",
                "עותקים": 3
            },
            {
                "שם המוצג": "מישוש",
                "טקסט למדבקה": "חוש המישוש- הכניסו את ידכם ומששו. הרימו את ראשכם ושימו לב לאונה הקודקודית, האחראית על חוש המישוש.\n\nحاسة اللمس - ضع يدك وتحسس. ارفع رأسك وانتبه للفص الجداري، المسؤول عن حاسة اللمس.",
                "מידות המדבקה בסנטימטרים": "5x44",
                "גודל פונט": "3X3 mm",
                "תיאור המדבקות": "מדבקות ההוראות",
                "עותקים": 3
            },
            {
                "שם המוצג": "פחד",
                "טקסט למדבקה": "תחושת הפחד- לחצו על הדוושה והחזיקו מספר שניות. הרימו את ראשכם ושימו לב לאיזור הפנימי במוח הקדמון, האחראי על תחושת הפחד.\n\nالشعور بالخوف - اضغط على الدواسة واستمر لبضع ثوانٍ. ارفع رأسك وانتبه للمنطقة الداخلية من الدماغ البدائي، المسؤولة عن الشعور بالخوف.",
                "מידות המדבקה בסנטימטרים": "5x44",
                "גודל פונט": "3X3 mm",
                "תיאור המדבקות": "מדבקות ההוראות",
                "עותקים": 3
            },
            {
                "שם המוצג": "שווי-משקל",
                "טקסט למדבקה": "שווי-משקל- נסו לאזן את המשטח ביציבות כמה שיותר זמן. הרימו את ראשכם ושימו לב למוחון המעורב בבקרה על התנועה והיציבה.\n\nالتوازن - حاول الحفاظ على توازن السطح بثبات لأطول فترة ممكنة. ارفع رأسك وانتبه للمخيخ المسؤول عن التحكم في الحركة والتوازن.",
                "מידות המדבקה בסנטימטרים": "5x44",
                "גודל פונט": "3X3 mm",
                "תיאור המדבקות": "מדבקות ההוראות",
                "עותקים": 3
            },
            {
                "שם המוצג": "מדבקת סורק הלב RF",
                "טקסט למדבקה": "ללא כיתוב",
                "מידות המדבקה בסנטימטרים": "10x10",
                "גודל פונט": "",
                "תיאור המדבקות": "3 יחידות",
                "עותקים": 3
            },
            {
                "שם המוצג": "פאלס אוקסימטר",
                "טקסט למדבקה": "ללא כיתוב",
                "מידות המדבקה בסנטימטרים": "12.5x13",
                "גודל פונט": "",
                "תיאור המדבקות": "מדבקת כף יד",
                "עותקים": 3
            },
            {
                "שם המוצג": "פאלס אוקסימטר",
                "טקסט למדבקה": "הוראות הפעלה:\nהניחו את האצבע בתוך המתקן המודד את ריווי החמצן בדם וצפו בתוצאה.",
                "מידות המדבקה בסנטימטרים": "15x22",
                "גודל פונט": "3X3 mm",
                "תיאור המדבקות": "הסבר- עברית",
                "עותקים": 3
            },
            {
                "שם המוצג": "פאלס אוקסימטר",
                "טקסט למדבקה": "ما العمل؟\n ضع إصبعك في الجهاز الذي يقيس تشبُّع الأكسجين في دمك وانظر إلى النتيجة.",
                "מידות המדבקה בסנטימטרים": "15x22",
                "גודל פונט": "3X3 mm",
                "תיאור המדבקות": "הסבר - ערבית",
                "עותקים": 3
            },
            {
                "שם המוצג": "מראה או חלון (טבעות הפלסטיק)",
                "טקסט למדבקה": "QR קוד של הסריקה- הערות**",
                "מידות המדבקה בסנטימטרים": "7X5.5",
                "גודל פונט": "",
                "תיאור המדבקות": "מדבקת SCAN ME",
                "עותקים": 1
            },
            {
                "שם המוצג": "זמן תגובה",
                "טקסט למדבקה": "מה לעשות?\nכמה מהירה התגובה?\nלאחר שלחצתם על כפתור \"התחל\", תוכלו לשמוע צליל \"ביפ\" והנורות יהבהבו בכפתורים באופן פתאומי. לחצו על הכפתור המהבהב מהר ככל שתוכלו. בצג יופיע זמן התגובה לו הייתם זקוקים עבור 10 כפתורים.",
                "מידות המדבקה בסנטימטרים": "18X22",
                "גודל פונט": "3X3 mm",
                "תיאור המדבקות": "הסבר- עברית",
                "עותקים": 3
            },
            {
                "שם המוצג": "זמן תגובה",
                "טקסט למדבקה": "ما العمل؟\n ما مدى سرعة رد فعلك؟\n بعد الضغط على زر \"ابدأ\" ، سوف تسمع صوت \"صفير\" وستومض الأضواء على الأزرار بشكلٍ غير متوقع. اضغط زر الوميض بأسرع ما يُمكن. سيُعرض على الشاشة وقت رد الفعل الذي احتجتَهُ ل 10 أزرار.",
                "מידות המדבקה בסנטימטרים": "18X22",
                "גודל פונט": "3X3 mm",
                "תיאור המדבקות": "הסבר - ערבית",
                "עותקים": 3
            },
            {
                "שם המוצג": "משחקי התפתחות לפי גיל",
                "טקסט למדבקה": "משחקים המתאימים לגיל שנה, משחקים המתאימים לגיל שנתיים, משחקים המתאימים לגילאי שלוש [הטקסט נראה זהה, רק לשים לב לציון הגיל המשתנה ממדבקה למדבקה]",
                "מידות המדבקה בסנטימטרים": "28x30",
                "גודל פונט": "",
                "תיאור המדבקות": "",
                "עותקים": 9
            },
            {
                "שם המוצג": "ביופידבק",
                "טקסט למדבקה": "التعليمات: حاول استخدام قوة التفكير فقط لتحريك الكرة نحو اللاعب الآخر.",
                "מידות המדבקה בסנטימטרים": "30x22",
                "גודל פונט": "3X3 mm",
                "תיאור המדבקות": "כיתוב בערבית",
                "עותקים": 3
            },
            {
                "שם המוצג": "ביופידבק",
                "טקסט למדבקה": "הוראות הפעלה נסה בעזרת כח המחשבה בלבד להזיז את הכדור אל עבר השחקן השני",
                "מידות המדבקה בסנטימטרים": "30x22",
                "גודל פונט": "3X3 mm",
                "תיאור המדבקות": "כיתוב בעברית",
                "עותקים": 3
            },
            {
                "שם המוצג": "כיצד המוח פועל- זכרון",
                "טקסט למדבקה": "כיצד המוח פועל? לחצו על הכפתור הירוק להפעלת המוצג, ואז חזרו על הצלילים שהושמעו באמצעות הכפתורים המתאימים",
                "מידות המדבקה בסנטימטרים": "12X22",
                "גודל פונט": "3X3 mm",
                "תיאור המדבקות": "כיתוב בעברית",
                "עותקים": 3
            },
            {
                "שם המוצג": "כיצד המוח פועל- זכרון",
                "טקסט למדבקה": "كيف يعمل الدماغ؟ اضغط على الزر الأخضر لتنشيط الشاشة، ثم كرّر الأصوات الصادرة باستخدام الأزرار الملائمة.",
                "מידות המדבקה בסנטימטרים": "12X22",
                "גודל פונט": "3X3 mm",
                "תיאור המדבקות": "כיתוב בערבית",
                "עותקים": 3
            },
            {
                "שם המוצג": "מדבקות לוגו חדש צבעוניות-שקופות",
                "טקסט למדבקה": "סמל לוגו בלבד",
                "מידות המדבקה בסנטימטרים": "18x18",
                "גודל פונט": "",
                "תיאור המדבקות": "שנמצאות על דלת הזכוכית בכניסה",
                "עותקים": 6
            },
            {
                "שם המוצג": "בשולחן מתחם החיידקים",
                "טקסט למדבקה": "מבקרים יקרים, בתערוכה זו מצויות חותמות המכילות חומר שנראה באור אולטרה סגול. במקרים נדירים החומר נותר על היד מספר שעות ונראה גם באור הרגיל. *החומר נבדק דרמטולוגית. בברכה, צוות הטכנודע",
                "מידות המדבקה בסנטימטרים": "14X28",
                "גודל פונט": "3X3 mm",
                "תיאור המדבקות": "כיתוב למידע על הדיו UV",
                "עותקים": 3
            },
            {
                "שם המוצג": "אמבה ויטרינה חיידקים",
                "טקסט למדבקה": "",
                "מידות המדבקה בסנטימטרים": "",
                "גודל פונט": "",
                "תיאור המדבקות": "מדבקה לחלונית האמבה",
                "עותקים": 3
            },
            {
                "שם המוצג": "מוצג הDNA",
                "טקסט למדבקה": "",
                "מידות המדבקה בסנטימטרים": "7X5.5",
                "גודל פונט": "",
                "תיאור המדבקות": "מדבקת GTCA אדום ירוק כחול צהוב",
                "עותקים": 3
            }
        ];

        // פונקציה לשינוי גודל הדף
        function changePageSize(size) {
            const container = document.getElementById('mainContainer');
            const style = document.querySelector('style');
            
            if (size === 'a3') {
                container.className = 'container a3';
                style.innerHTML = style.innerHTML.replace('.page-a4', '.page-a3');
            } else {
                container.className = 'container a4';
                style.innerHTML = style.innerHTML.replace('.page-a3', '.page-a4');
            }
        }

        // פונקציה לשינוי גודל פונט
        function changeFontSize(labelIndex, direction) {
            const textElement = document.querySelector(`#label-${labelIndex} .label-text`);
            const currentSize = parseFloat(window.getComputedStyle(textElement).fontSize);
            
            let newSize;
            if (direction === 'increase') {
                newSize = Math.min(currentSize + 1, 24); // מקסימום 24px
            } else {
                newSize = Math.max(currentSize - 1, 8); // מינימום 8px
            }
            
            textElement.style.fontSize = newSize + 'px';
        }

        // טעינת התוויות לעמוד
        function loadLabels() {
            const container = document.getElementById('labelsContainer');
            const totalLabelsSpan = document.getElementById('totalLabels');
            
            // סינון תוויות עם טקסט לא ריק
            const validLabels = labelsData.filter(label => 
                label["טקסט למדבקה"] && 
                label["טקסט למדבקה"].trim() !== "" &&
                label["טקסט למדבקה"] !== "ללא כיתוב"
            );
            
            totalLabelsSpan.textContent = validLabels.length;
            
            validLabels.forEach((label, index) => {
                const labelItem = document.createElement('div');
                labelItem.className = 'label-item';
                labelItem.id = `label-${index}`;
                
                const isArabic = /[\u0600-\u06FF]/.test(label["טקסט למדבקה"]);
                const textClass = isArabic ? 'label-text arabic' : 'label-text';
                
                labelItem.innerHTML = `
<div class="label-controls no-print">
    <button class="font-control-btn" onclick="changeFontSize(${index}, 'increase')" title="הגדל פונט">+</button>
    <button class="font-control-btn minus" onclick="changeFontSize(${index}, 'decrease')" title="הקטן פונט">-</button>
    <button class="logo-control-btn" onclick="addLogo(${index})" title="הוסף לוגו">לוגו</button>
</div>
                    <div class="label-title">${label["שם המוצג"]}</div>
                    <div class="label-info">
                        מידות: ${label["מידות המדבקה בסנטימטרים"]} | 
                        עותקים: ${label["עותקים"]} | 
                        ${label["תיאור המדבקות"]}
                    </div>
                    <div class="${textClass}">${label["טקסט למדבקה"]}</div>
                `;
                
                container.appendChild(labelItem);
            });
        }
        // פונקציה להוספת לוגו
function addLogo(labelIndex) {
    const labelElement = document.getElementById(`label-${labelIndex}`);
    
    // בדיקה אם כבר יש לוגו
    if (labelElement.querySelector('.label-logo')) {
        alert('לוגו כבר קיים במדבקה זו');
        return;
    }
    
    // יצירת אלמנט תמונה
    const logoImg = document.createElement('img');
    logoImg.src = 'logo.png';
    logoImg.className = 'label-logo';
    logoImg.alt = 'לוגו טכנודע';
    
    // הוספת הלוגו למדבקה
    labelElement.appendChild(logoImg);
    
    // עדכון כפתור הלוגו להסרה
    updateLogoButton(labelIndex, true);
}

// פונקציה להסרת לוגו
function removeLogo(labelIndex) {
    const labelElement = document.getElementById(`label-${labelIndex}`);
    const logoElement = labelElement.querySelector('.label-logo');
    
    if (logoElement) {
        logoElement.remove();
        updateLogoButton(labelIndex, false);
    }
}

// פונקציה לעדכון כפתור הלוגו
function updateLogoButton(labelIndex, hasLogo) {
    const logoBtn = document.querySelector(`#label-${labelIndex} .logo-control-btn`);
    
    if (hasLogo) {
        logoBtn.textContent = 'הסר';
        logoBtn.className = 'logo-control-btn remove';
        logoBtn.onclick = () => removeLogo(labelIndex);
    } else {
        logoBtn.textContent = 'לוגו';
        logoBtn.className = 'logo-control-btn';
        logoBtn.onclick = () => addLogo(labelIndex);
    }
}

        // טעינה בעת טעינת העמוד
        document.addEventListener('DOMContentLoaded', loadLabels);
    </script>
</body>
</html>
